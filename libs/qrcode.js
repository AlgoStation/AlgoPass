var QRCode=function(e){"use strict";var r,o=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706],t=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},n=function(e){return o[e]},a=function(e){for(var r=0;0!==e;)r++,e>>>=1;return r},s=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');r=e},c=function(){return void 0!==r},l=function(e){return r(e)};function d(e,r){return e(r={exports:{}},r.exports),r.exports}var i=d((function(e,r){r.L={bit:1},r.M={bit:0},r.Q={bit:3},r.H={bit:2},r.isValid=function(e){return e&&void 0!==e.bit&&e.bit>=0&&e.bit<4},r.from=function(e,o){if(r.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return r.L;case"m":case"medium":return r.M;case"q":case"quartile":return r.Q;case"h":case"high":return r.H;default:throw new Error("Unknown EC Level: "+e)}}(e)}catch(e){return o}}}));function u(){this.buffer=[],this.length=0}i.L,i.M,i.Q,i.H,i.isValid,u.prototype={get:function(e){var r=Math.floor(e/8);return 1==(this.buffer[r]>>>7-e%8&1)},put:function(e,r){for(var o=0;o<r;o++)this.putBit(1==(e>>>r-o-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0),e&&(this.buffer[r]|=128>>>this.length%8),this.length++}};var B=u;function k(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}k.prototype.set=function(e,r,o,t){var n=e*this.size+r;this.data[n]=o,t&&(this.reservedBit[n]=!0)},k.prototype.get=function(e,r){return this.data[e*this.size+r]},k.prototype.xor=function(e,r,o){this.data[e*this.size+r]^=o},k.prototype.isReserved=function(e,r){return this.reservedBit[e*this.size+r]};var f=k,h=d((function(e,r){var o=t;r.getRowColCoords=function(e){if(1===e)return[];for(var r=Math.floor(e/7)+2,t=o(e),n=145===t?26:2*Math.ceil((t-13)/(2*r-2)),a=[t-7],s=1;s<r-1;s++)a[s]=a[s-1]-n;return a.push(6),a.reverse()},r.getPositions=function(e){for(var o=[],t=r.getRowColCoords(e),n=t.length,a=0;a<n;a++)for(var s=0;s<n;s++)0===a&&0===s||0===a&&s===n-1||a===n-1&&0===s||o.push([t[a],t[s]]);return o}}));h.getRowColCoords,h.getPositions;var m=t,w=function(e){var r=m(e);return[[0,0],[r-7,0],[0,r-7]]},C=d((function(e,r){r.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var o=3,t=3,n=40,a=10;function s(e,o,t){switch(e){case r.Patterns.PATTERN000:return(o+t)%2==0;case r.Patterns.PATTERN001:return o%2==0;case r.Patterns.PATTERN010:return t%3==0;case r.Patterns.PATTERN011:return(o+t)%3==0;case r.Patterns.PATTERN100:return(Math.floor(o/2)+Math.floor(t/3))%2==0;case r.Patterns.PATTERN101:return o*t%2+o*t%3==0;case r.Patterns.PATTERN110:return(o*t%2+o*t%3)%2==0;case r.Patterns.PATTERN111:return(o*t%3+(o+t)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}}r.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},r.from=function(e){return r.isValid(e)?parseInt(e,10):void 0},r.getPenaltyN1=function(e){for(var r=e.size,t=0,n=0,a=0,s=null,c=null,l=0;l<r;l++){n=a=0,s=c=null;for(var d=0;d<r;d++){var i=e.get(l,d);i===s?n++:(n>=5&&(t+=o+(n-5)),s=i,n=1),(i=e.get(d,l))===c?a++:(a>=5&&(t+=o+(a-5)),c=i,a=1)}n>=5&&(t+=o+(n-5)),a>=5&&(t+=o+(a-5))}return t},r.getPenaltyN2=function(e){for(var r=e.size,o=0,n=0;n<r-1;n++)for(var a=0;a<r-1;a++){var s=e.get(n,a)+e.get(n,a+1)+e.get(n+1,a)+e.get(n+1,a+1);4!==s&&0!==s||o++}return o*t},r.getPenaltyN3=function(e){for(var r=e.size,o=0,t=0,a=0,s=0;s<r;s++){t=a=0;for(var c=0;c<r;c++)t=t<<1&2047|e.get(s,c),c>=10&&(1488===t||93===t)&&o++,a=a<<1&2047|e.get(c,s),c>=10&&(1488===a||93===a)&&o++}return o*n},r.getPenaltyN4=function(e){for(var r=0,o=e.data.length,t=0;t<o;t++)r+=e.data[t];return Math.abs(Math.ceil(100*r/o/5)-10)*a},r.applyMask=function(e,r){for(var o=r.size,t=0;t<o;t++)for(var n=0;n<o;n++)r.isReserved(n,t)||r.xor(n,t,s(e,n,t))},r.getBestMask=function(e,o){for(var t=Object.keys(r.Patterns).length,n=0,a=1/0,s=0;s<t;s++){o(s),r.applyMask(s,e);var c=r.getPenaltyN1(e)+r.getPenaltyN2(e)+r.getPenaltyN3(e)+r.getPenaltyN4(e);r.applyMask(s,e),c<a&&(a=c,n=s)}return n}}));C.Patterns,C.isValid,C.getPenaltyN1,C.getPenaltyN2,C.getPenaltyN3,C.getPenaltyN4,C.applyMask,C.getBestMask;var v=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],g=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430],P=function(e,r){switch(r){case i.L:return v[4*(e-1)+0];case i.M:return v[4*(e-1)+1];case i.Q:return v[4*(e-1)+2];case i.H:return v[4*(e-1)+3];default:return}},y=function(e,r){switch(r){case i.L:return g[4*(e-1)+0];case i.M:return g[4*(e-1)+1];case i.Q:return g[4*(e-1)+2];case i.H:return g[4*(e-1)+3];default:return}},p=new Uint8Array(512),b=new Uint8Array(256);!function(){for(var e=1,r=0;r<255;r++)p[r]=e,b[e]=r,256&(e<<=1)&&(e^=285);for(var o=255;o<512;o++)p[o]=p[o-255]}();var M=function(e){return p[e]},x=function(e,r){return 0===e||0===r?0:p[b[e]+b[r]]},A=d((function(e,r){r.mul=function(e,r){for(var o=new Uint8Array(e.length+r.length-1),t=0;t<e.length;t++)for(var n=0;n<r.length;n++)o[t+n]^=x(e[t],r[n]);return o},r.mod=function(e,r){for(var o=new Uint8Array(e);o.length-r.length>=0;){for(var t=o[0],n=0;n<r.length;n++)o[n]^=x(r[n],t);for(var a=0;a<o.length&&0===o[a];)a++;o=o.slice(a)}return o},r.generateECPolynomial=function(e){for(var o=new Uint8Array([1]),t=0;t<e;t++)o=r.mul(o,new Uint8Array([1,M(t)]));return o}}));function L(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}A.mul,A.mod,A.generateECPolynomial,L.prototype.initialize=function(e){this.degree=e,this.genPoly=A.generateECPolynomial(this.degree)},L.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");var r=new Uint8Array(e.length+this.degree);r.set(e);var o=A.mod(r,this.genPoly),t=this.degree-o.length;if(t>0){var n=new Uint8Array(this.degree);return n.set(o,t),n}return o};var E=L,I=function(e){return!isNaN(e)&&e>=1&&e<=40},N="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",T="(?:(?![A-Z0-9 $%*+\\-./:]|"+(N=N.replace(/u/g,"\\u"))+")(?:.|[\r\n]))+",R=new RegExp(N,"g"),U=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),z=new RegExp(T,"g"),S=new RegExp("[0-9]+","g"),F=new RegExp("[A-Z $%*+\\-./:]+","g"),X=new RegExp("^"+N+"$"),D=new RegExp("^[0-9]+$"),O=new RegExp("^[A-Z0-9 $%*+\\-./:]+$"),Y={KANJI:R,BYTE_KANJI:U,BYTE:z,NUMERIC:S,ALPHANUMERIC:F,testKanji:function(e){return X.test(e)},testNumeric:function(e){return D.test(e)},testAlphanumeric:function(e){return O.test(e)}},H=d((function(e,r){r.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},r.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},r.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},r.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},r.MIXED={bit:-1},r.getCharCountIndicator=function(e,r){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!I(r))throw new Error("Invalid version: "+r);return r>=1&&r<10?e.ccBits[0]:r<27?e.ccBits[1]:e.ccBits[2]},r.getBestModeForData=function(e){return Y.testNumeric(e)?r.NUMERIC:Y.testAlphanumeric(e)?r.ALPHANUMERIC:Y.testKanji(e)?r.KANJI:r.BYTE},r.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},r.isValid=function(e){return e&&e.bit&&e.ccBits},r.from=function(e,o){if(r.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return r.NUMERIC;case"alphanumeric":return r.ALPHANUMERIC;case"kanji":return r.KANJI;case"byte":return r.BYTE;default:throw new Error("Unknown mode: "+e)}}(e)}catch(e){return o}}}));H.NUMERIC,H.ALPHANUMERIC,H.BYTE,H.KANJI,H.MIXED,H.getCharCountIndicator,H.getBestModeForData,H.isValid;var j=d((function(e,r){var o=a(7973);function t(e,r){return H.getCharCountIndicator(e,r)+4}function s(e,r){var o=0;return e.forEach((function(e){var n=t(e.mode,r);o+=n+e.getBitsLength()})),o}r.from=function(e,r){return I(e)?parseInt(e,10):r},r.getCapacity=function(e,r,o){if(!I(e))throw new Error("Invalid QR Code version");void 0===o&&(o=H.BYTE);var a=8*(n(e)-y(e,r));if(o===H.MIXED)return a;var s=a-t(o,e);switch(o){case H.NUMERIC:return Math.floor(s/10*3);case H.ALPHANUMERIC:return Math.floor(s/11*2);case H.KANJI:return Math.floor(s/13);case H.BYTE:default:return Math.floor(s/8)}},r.getBestVersionForData=function(e,o){var t,n=i.from(o,i.M);if(Array.isArray(e)){if(e.length>1)return function(e,o){for(var t=1;t<=40;t++){if(s(e,t)<=r.getCapacity(t,o,H.MIXED))return t}}(e,n);if(0===e.length)return 1;t=e[0]}else t=e;return function(e,o,t){for(var n=1;n<=40;n++)if(o<=r.getCapacity(n,t,e))return n}(t.mode,t.getLength(),n)},r.getEncodedBits=function(e){if(!I(e)||e<7)throw new Error("Invalid QR Code version");for(var r=e<<12;a(r)-o>=0;)r^=7973<<a(r)-o;return e<<12|r}}));j.getCapacity,j.getBestVersionForData,j.getEncodedBits;var K=a(1335),_=function(e,r){for(var o=e.bit<<3|r,t=o<<10;a(t)-K>=0;)t^=1335<<a(t)-K;return 21522^(o<<10|t)};function J(e){this.mode=H.NUMERIC,this.data=e.toString()}J.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},J.prototype.getLength=function(){return this.data.length},J.prototype.getBitsLength=function(){return J.getBitsLength(this.data.length)},J.prototype.write=function(e){var r,o,t;for(r=0;r+3<=this.data.length;r+=3)o=this.data.substr(r,3),t=parseInt(o,10),e.put(t,10);var n=this.data.length-r;n>0&&(o=this.data.substr(r),t=parseInt(o,10),e.put(t,3*n+1))};var $=J,Q=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Z(e){this.mode=H.ALPHANUMERIC,this.data=e}Z.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},Z.prototype.getLength=function(){return this.data.length},Z.prototype.getBitsLength=function(){return Z.getBitsLength(this.data.length)},Z.prototype.write=function(e){var r;for(r=0;r+2<=this.data.length;r+=2){var o=45*Q.indexOf(this.data[r]);o+=Q.indexOf(this.data[r+1]),e.put(o,11)}this.data.length%2&&e.put(Q.indexOf(this.data[r]),6)};var q=Z;function V(e){this.mode=H.BYTE,this.data=new Uint8Array(function(e){for(var r=[],o=e.length,t=0;t<o;t++){var n=e.charCodeAt(t);if(n>=55296&&n<=56319&&o>t+1){var a=e.charCodeAt(t+1);a>=56320&&a<=57343&&(n=1024*(n-55296)+a-56320+65536,t+=1)}n<128?r.push(n):n<2048?(r.push(n>>6|192),r.push(63&n|128)):n<55296||n>=57344&&n<65536?(r.push(n>>12|224),r.push(n>>6&63|128),r.push(63&n|128)):n>=65536&&n<=1114111?(r.push(n>>18|240),r.push(n>>12&63|128),r.push(n>>6&63|128),r.push(63&n|128)):r.push(239,191,189)}return new Uint8Array(r).buffer}(e))}V.getBitsLength=function(e){return 8*e},V.prototype.getLength=function(){return this.data.length},V.prototype.getBitsLength=function(){return V.getBitsLength(this.data.length)},V.prototype.write=function(e){for(var r=0,o=this.data.length;r<o;r++)e.put(this.data[r],8)};var W=V;function G(e){this.mode=H.KANJI,this.data=e}G.getBitsLength=function(e){return 13*e},G.prototype.getLength=function(){return this.data.length},G.prototype.getBitsLength=function(){return G.getBitsLength(this.data.length)},G.prototype.write=function(e){var r;for(r=0;r<this.data.length;r++){var o=l(this.data[r]);if(o>=33088&&o<=40956)o-=33088;else{if(!(o>=57408&&o<=60351))throw new Error("Invalid SJIS character: "+this.data[r]+"\nMake sure your charset is UTF-8");o-=49472}o=192*(o>>>8&255)+(255&o),e.put(o,13)}};var ee=G,re=d((function(e){var r={single_source_shortest_paths:function(e,o,t){var n={},a={};a[o]=0;var s,c,l,d,i,u,B,k=r.PriorityQueue.make();for(k.push(o,0);!k.empty();)for(l in c=(s=k.pop()).value,d=s.cost,i=e[c]||{})i.hasOwnProperty(l)&&(u=d+i[l],B=a[l],(void 0===a[l]||B>u)&&(a[l]=u,k.push(l,u),n[l]=c));if(void 0!==t&&void 0===a[t]){var f=["Could not find a path from ",o," to ",t,"."].join("");throw new Error(f)}return n},extract_shortest_path_from_predecessor_list:function(e,r){for(var o=[],t=r;t;)o.push(t),e[t],t=e[t];return o.reverse(),o},find_path:function(e,o,t){var n=r.single_source_shortest_paths(e,o,t);return r.extract_shortest_path_from_predecessor_list(n,t)},PriorityQueue:{make:function(e){var o,t=r.PriorityQueue,n={};for(o in e=e||{},t)t.hasOwnProperty(o)&&(n[o]=t[o]);return n.queue=[],n.sorter=e.sorter||t.default_sorter,n},default_sorter:function(e,r){return e.cost-r.cost},push:function(e,r){var o={value:e,cost:r};this.queue.push(o),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};e.exports=r})),oe=d((function(e,r){function o(e){return unescape(encodeURIComponent(e)).length}function t(e,r,o){for(var t,n=[];null!==(t=e.exec(o));)n.push({data:t[0],index:t.index,mode:r,length:t[0].length});return n}function n(e){var r,o,n=t(Y.NUMERIC,H.NUMERIC,e),a=t(Y.ALPHANUMERIC,H.ALPHANUMERIC,e);return c()?(r=t(Y.BYTE,H.BYTE,e),o=t(Y.KANJI,H.KANJI,e)):(r=t(Y.BYTE_KANJI,H.BYTE,e),o=[]),n.concat(a,r,o).sort((function(e,r){return e.index-r.index})).map((function(e){return{data:e.data,mode:e.mode,length:e.length}}))}function a(e,r){switch(r){case H.NUMERIC:return $.getBitsLength(e);case H.ALPHANUMERIC:return q.getBitsLength(e);case H.KANJI:return ee.getBitsLength(e);case H.BYTE:return W.getBitsLength(e)}}function s(e,r){var o,t=H.getBestModeForData(e);if((o=H.from(r,t))!==H.BYTE&&o.bit<t.bit)throw new Error('"'+e+'" cannot be encoded with mode '+H.toString(o)+".\n Suggested mode is: "+H.toString(t));switch(o!==H.KANJI||c()||(o=H.BYTE),o){case H.NUMERIC:return new $(e);case H.ALPHANUMERIC:return new q(e);case H.KANJI:return new ee(e);case H.BYTE:return new W(e)}}r.fromArray=function(e){return e.reduce((function(e,r){return"string"==typeof r?e.push(s(r,null)):r.data&&e.push(s(r.data,r.mode)),e}),[])},r.fromString=function(e,t){for(var s=function(e,r){for(var o={},t={start:{}},n=["start"],s=0;s<e.length;s++){for(var c=e[s],l=[],d=0;d<c.length;d++){var i=c[d],u=""+s+d;l.push(u),o[u]={node:i,lastCount:0},t[u]={};for(var B=0;B<n.length;B++){var k=n[B];o[k]&&o[k].node.mode===i.mode?(t[k][u]=a(o[k].lastCount+i.length,i.mode)-a(o[k].lastCount,i.mode),o[k].lastCount+=i.length):(o[k]&&(o[k].lastCount=i.length),t[k][u]=a(i.length,i.mode)+4+H.getCharCountIndicator(i.mode,r))}}n=l}for(var f=0;f<n.length;f++)t[n[f]].end=0;return{map:t,table:o}}(function(e){for(var r=[],t=0;t<e.length;t++){var n=e[t];switch(n.mode){case H.NUMERIC:r.push([n,{data:n.data,mode:H.ALPHANUMERIC,length:n.length},{data:n.data,mode:H.BYTE,length:n.length}]);break;case H.ALPHANUMERIC:r.push([n,{data:n.data,mode:H.BYTE,length:n.length}]);break;case H.KANJI:r.push([n,{data:n.data,mode:H.BYTE,length:o(n.data)}]);break;case H.BYTE:r.push([{data:n.data,mode:H.BYTE,length:o(n.data)}])}}return r}(n(e)),t),c=re.find_path(s.map,"start","end"),l=[],d=1;d<c.length-1;d++)l.push(s.table[c[d]].node);return r.fromArray(function(e){return e.reduce((function(e,r){var o=e.length-1>=0?e[e.length-1]:null;return o&&o.mode===r.mode?(e[e.length-1].data+=r.data,e):(e.push(r),e)}),[])}(l))},r.rawSplit=function(e){return r.fromArray(n(e))}}));function te(e,r,o){var t,n,a=e.size,s=_(r,o);for(t=0;t<15;t++)n=1==(s>>t&1),t<6?e.set(t,8,n,!0):t<8?e.set(t+1,8,n,!0):e.set(a-15+t,8,n,!0),t<8?e.set(8,a-t-1,n,!0):t<9?e.set(8,15-t-1+1,n,!0):e.set(8,15-t-1,n,!0);e.set(a-8,8,1,!0)}function ne(e,r,o){var t=new B;o.forEach((function(r){t.put(r.mode.bit,4),t.put(r.getLength(),H.getCharCountIndicator(r.mode,e)),r.write(t)}));var a=8*(n(e)-y(e,r));for(t.getLengthInBits()+4<=a&&t.put(0,4);t.getLengthInBits()%8!=0;)t.putBit(0);for(var s=(a-t.getLengthInBits())/8,c=0;c<s;c++)t.put(c%2?17:236,8);return function(e,r,o){for(var t=n(r),a=y(r,o),s=t-a,c=P(r,o),l=c-t%c,d=Math.floor(t/c),i=Math.floor(s/c),u=i+1,B=d-i,k=new E(B),f=0,h=new Array(c),m=new Array(c),w=0,C=new Uint8Array(e.buffer),v=0;v<c;v++){var g=v<l?i:u;h[v]=C.slice(f,f+g),m[v]=k.encode(h[v]),f+=g,w=Math.max(w,g)}var p,b,M=new Uint8Array(t),x=0;for(p=0;p<w;p++)for(b=0;b<c;b++)p<h[b].length&&(M[x++]=h[b][p]);for(p=0;p<B;p++)for(b=0;b<c;b++)M[x++]=m[b][p];return M}(t,e,r)}function ae(e,r,o,n){var a;if(Array.isArray(e))a=oe.fromArray(e);else{if("string"!=typeof e)throw new Error("Invalid data");var s=r;if(!s){var c=oe.rawSplit(e);s=j.getBestVersionForData(c,o)}a=oe.fromString(e,s||40)}var l=j.getBestVersionForData(a,o);if(!l)throw new Error("The amount of data is too big to be stored in a QR Code");if(r){if(r<l)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+l+".\n")}else r=l;var d=ne(r,o,a),i=t(r),u=new f(i);return function(e,r){for(var o=e.size,t=w(r),n=0;n<t.length;n++)for(var a=t[n][0],s=t[n][1],c=-1;c<=7;c++)if(!(a+c<=-1||o<=a+c))for(var l=-1;l<=7;l++)s+l<=-1||o<=s+l||(c>=0&&c<=6&&(0===l||6===l)||l>=0&&l<=6&&(0===c||6===c)||c>=2&&c<=4&&l>=2&&l<=4?e.set(a+c,s+l,!0,!0):e.set(a+c,s+l,!1,!0))}(u,r),function(e){for(var r=e.size,o=8;o<r-8;o++){var t=o%2==0;e.set(o,6,t,!0),e.set(6,o,t,!0)}}(u),function(e,r){for(var o=h.getPositions(r),t=0;t<o.length;t++)for(var n=o[t][0],a=o[t][1],s=-2;s<=2;s++)for(var c=-2;c<=2;c++)-2===s||2===s||-2===c||2===c||0===s&&0===c?e.set(n+s,a+c,!0,!0):e.set(n+s,a+c,!1,!0)}(u,r),te(u,o,0),r>=7&&function(e,r){for(var o,t,n,a=e.size,s=j.getEncodedBits(r),c=0;c<18;c++)o=Math.floor(c/3),t=c%3+a-8-3,n=1==(s>>c&1),e.set(o,t,n,!0),e.set(t,o,n,!0)}(u,r),function(e,r){for(var o=e.size,t=-1,n=o-1,a=7,s=0,c=o-1;c>0;c-=2)for(6===c&&c--;;){for(var l=0;l<2;l++)if(!e.isReserved(n,c-l)){var d=!1;s<r.length&&(d=1==(r[s]>>>a&1)),e.set(n,c-l,d),-1===--a&&(s++,a=7)}if((n+=t)<0||o<=n){n-=t,t=-t;break}}}(u,d),isNaN(n)&&(n=C.getBestMask(u,te.bind(null,u,o))),C.applyMask(n,u),te(u,o,n),{modules:u,version:r,errorCorrectionLevel:o,maskPattern:n,segments:a}}oe.fromArray,oe.fromString,oe.rawSplit;var se=function(e,r){if(void 0===e||""===e)throw new Error("No input alrorand URI");var o,t,n=i.M;return void 0!==r&&(n=i.from(r.errorCorrectionLevel,i.M),o=j.from(r.version),t=C.from(r.maskPattern),r.toSJISFunc&&s(r.toSJISFunc)),ae(e,o,n,t)},ce=d((function(e,r){var o=/(^|[^\uD800-\uDBFF])[\uDC00-\uDFFF]|[\uD800-\uDBFF]([^\uDC00-\uDFFF]|$)/g,t=/(?:[^\x21\x25\x26-\x3B\x3D\x3F-\x5B\x5D\x5F\x61-\x7A\x7E]|%(?:[^0-9A-Fa-f]|[0-9A-Fa-f][^0-9A-Fa-f]|$))+/g,n=/["'&<>]/;function a(e){if("number"==typeof e&&(e=e.toString()),"string"!=typeof e)throw new Error("Color should be defined as hex string");var r=e.slice().replace("#","").split("");if(r.length<3||5===r.length||r.length>8)throw new Error("Invalid hex color: "+e);3!==r.length&&4!==r.length||(r=Array.prototype.concat.apply([],r.map((function(e){return[e,e]})))),6===r.length&&r.push("F","F");var o=parseInt(r.join(""),16);return{r:o>>24&255,g:o>>16&255,b:o>>8&255,a:255&o,hex:"#"+r.slice(0,6).join("")}}function s(){}r.getOptions=function(e){e||(e={}),e.color||(e.color={});var r=void 0===e.margin||null===e.margin||e.margin<0?4:e.margin,o=e.width&&e.width>=21?e.width:void 0,t=e.scale||4;return{width:o,scale:o?4:t,margin:r,color:{dark:a(e.color.dark||"#000000ff"),light:a(e.color.light||"#ffffffff")},type:e.type,inverse:Boolean(e.inverse),html:Boolean(e.html),rendererOpts:e.rendererOpts||{}}},r.getScale=function(e,r){return r.width&&r.width>=e+2*r.margin?r.width/(e+2*r.margin):r.scale},r.getImageWidth=function(e,o){var t=r.getScale(e,o);return Math.floor((e+2*o.margin)*t)},r.qrToImageData=function(e,o,t){for(var n=o.modules.size,a=o.modules.data,s=r.getScale(n,t),c=Math.floor((n+2*t.margin)*s),l=t.margin*s,d=t.inverse?[t.color.dark,t.color.light]:[t.color.light,t.color.dark],i=0;i<c;i++)for(var u=0;u<c;u++){var B=4*(i*c+u),k=t.color.light;if(i>=l&&u>=l&&i<c-l&&u<c-l)k=d[a[Math.floor((i-l)/s)*n+Math.floor((u-l)/s)]?1:0];e[B++]=k.r,e[B++]=k.g,e[B++]=k.b,e[B]=k.a}return e},r.escapeHtml=function(e){var r,o=""+e,t=n.exec(o);if(!t)return o;var a="",s=0,c=0;for(s=t.index;s<o.length;s++){switch(o.charCodeAt(s)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#39;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}c!==s&&(a+=o.substring(c,s)),c=s+1,a+=r}return c!==s?a+o.substring(c,s):a},r.encodeUrl=function(e){var r=e.match(/^(?=.*[a-zA-Z])(?=.*[0-9])[a-zA-Z0-9]+$/),n=e.match(/^[a-zA-Z0-9!@#\$%\^\&*\)\(+=.-]+$/g);return r?String(e):n?String(e.replace(o,"$1ï¿½$2").replace(t,encodeURI)):String(e).replace(/ /g,"_")},r.rgbToHsl=function(e,r,o){e/=255,r/=255,o/=255;var t,n,a=Math.max(e,r,o),s=Math.min(e,r,o),c=(a+s)/2;if(a==s)t=n=0;else{var l=a-s;switch(n=c>.5?l/(2-a-s):l/(a+s),a){case e:t=(r-o)/l+(r<o?6:0);break;case r:t=(o-e)/l+2;break;case o:t=(e-r)/l+4}t/=6}return[t,n,c]},r.hslToRgb=function(e,r,o){var t,n,a;if(0==r)t=n=a=o;else{var s=function(e,r,o){return o<0&&(o+=1),o>1&&(o-=1),o<1/6?e+6*(r-e)*o:o<.5?r:o<2/3?e+(r-e)*(2/3-o)*6:e},c=o<.5?o*(1+r):o+r-o*r,l=2*o-c;t=s(l,c,e+1/3),n=s(l,c,e),a=s(l,c,e-1/3)}return[255*t,255*n,255*a]},r.rgbToHsv=function(e,r,o){e/=255,r/=255,o/=255;var t,n,a=Math.max(e,r,o),s=Math.min(e,r,o),c=a,l=a-s;if(n=0==a?0:l/a,a==s)t=0;else{switch(a){case e:t=(r-o)/l+(r<o?6:0);break;case r:t=(o-e)/l+2;break;case o:t=(e-r)/l+4}t/=6}return[t,n,c]},r.hsvToRgb=function(e,r,o){var t,n,a,s=Math.floor(6*e),c=6*e-s,l=o*(1-r),d=o*(1-c*r),i=o*(1-(1-c)*r);switch(s%6){case 0:t=o,n=i,a=l;break;case 1:t=d,n=o,a=l;break;case 2:t=l,n=o,a=i;break;case 3:t=l,n=d,a=o;break;case 4:t=i,n=l,a=o;break;case 5:t=o,n=l,a=d}return[255*t,255*n,255*a]},r.rgbToYuv=function(e,r,o){var t=.2126,n=.0722,a=t*e+.7152*r+n*o;return[a,(o-a)/(1-n)*.436,(e-a)/(1-t)*.615]},r.yuvToRgb=function(e,r,o){var t=.2126*e+.7152*r+.0722*o;return[t,(o-t)/.9278*.436,(e-t)/.7874*.615]},r.yuvToRgb2=function(e,r,o){var t=.2126,n=.0722;return[e+o*(1-t/.615),e- -.23992535816618918*r-.1946753932487805*o,e+r*((1-n)/.436)]},r.luma709Only=function(e,r,o){return.2125*e+.7154*r+.0721*o},s.prototype={threshold:50,iterate:function(e,r){for(var o=e.getContext("2d"),t=o.getImageData(0,0,e.width,e.height),n={},a=0,s=t.data.length/4;a<s&&(n.r=t.data[4*a+0],n.g=t.data[4*a+1],n.b=t.data[4*a+2],n.a=t.data[4*a+3],!1!==r(n,a,s,t.data,e.width,e.height,this));a++)t.data[4*a+0]=n.r,t.data[4*a+1]=n.g,t.data[4*a+2]=n.b,t.data[4*a+3]=n.a;o.putImageData(t,0,0)},transforms:{grayscale:{lightness:function(e){e.r=e.g=e.b=(Math.max(e.r,e.g,e.b)+Math.min(e.r,e.g,e.b))/2},average:function(e){e.r=e.g=e.b=(e.r+e.g+e.b)/3},luma:function(e){e.r=e.b=e.g=.2125*e.r+.7154*e.g+.0721*e.b},lumaY:function(e){e.r=e.b=e.g=.299*e.r+.587*e.g+.114*e.b},lumaRMY:function(e){e.r=e.b=e.g=.5*e.r+.419*e.g+.081*e.b}},brightenThreshold:function(e,r,o,t,n,a,s){var c,l=rgbToHsl(e.r,e.g,e.b);l[1]<s.threshold/100&&(c=hslToRgb(l[0],s.threshold/100,l[2]),e.r=c[0],e.g=c[1],e.b=c[2])},saturationThreshold:function(e,r,o,t,n,a,s){var c,l=rgbToHsv(e.r,e.g,e.b);l[1]>s.threshold/100&&(c=hsvToRgb(l[0],s.threshold/100,l[2]),e.r=c[0],e.g=c[1],e.b=c[2])},dimThreshold:function(e,r,o,t,n,a,s){if(.2125*e.r+.7154*e.g+.0721*e.b>s.threshold){var c,l=rgbToYuv(e.r,e.g,e.b);c=yuvToRgb(s.threshold,l[1],l[2]),e.r=c[0],e.g=c[1],e.b=c[2]}},lightenThreshold:function(e,r,o,t,n,a,s){if(.2125*e.r+.7154*e.g+.0721*e.b<s.threshold){var c,l=rgbToYuv(e.r,e.g,e.b);c=yuvToRgb(s.threshold,l[1],l[2]),e.r=c[0],e.g=c[1],e.b=c[2]}},debug:{traceBrightenThreshold:function(e,r,o,t,n,a,s){rgbToHsl(e.r,e.g,e.b)[1]>s.threshold/100&&(e.r=0,e.g=255,e.b=0)},traceSaturationThreshold:function(e,r,o,t,n,a,s){rgbToHsv(e.r,e.g,e.b)[1]>s.threshold/100&&(e.r=0,e.g=255,e.b=0)},traceDimThreshold:function(e,r,o,t,n,a,s){.2125*e.r+.7154*e.g+.0721*e.b<s.threshold&&(e.r=0,e.g=255,e.b=0)},yuvAndBack:function(e){var r=rgbToYuv(e.r,e.g,e.b),o=yuvToRgb(r[0],r[1],r[2]);e.r=o[0],e.g=o[1],e.b=o[2]}}}},r.PixelCore=s}));ce.getOptions,ce.getScale,ce.getImageWidth,ce.qrToImageData,ce.escapeHtml,ce.encodeUrl,ce.rgbToHsl,ce.hslToRgb,ce.rgbToHsv,ce.hsvToRgb,ce.rgbToYuv,ce.yuvToRgb,ce.yuvToRgb2,ce.luma709Only,ce.PixelCore;var le=d((function(e,r){r.render=function(e,r,o){var t=o,n=r;void 0!==t||r&&r.getContext||(t=r,r=void 0),r||(n=function(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}()),t=ce.getOptions(t);var a=ce.getImageWidth(e.modules.size,t),s=n.getContext("2d"),c=s.createImageData(a,a);if(ce.qrToImageData(c.data,e,t),function(e,r,o){e.clearRect(0,0,r.width,r.height),r.style||(r.style={}),r.height=o,r.width=o,r.style.height=o+"px",r.style.width=o+"px"}(s,n,a),s.putImageData(c,0,0),o.withBgLogo&&o.bgLogo){var l=new Image;l.src=o.bgLogo;var d=s.getImageData(0,0,a,a),i=new ce.PixelCore,u=t.darkThreshold||25,B=t.lightThreshold||75;i.threshold=50;var k=a,f=a;l.width>l.height?(k*=a/f,f=a):(f*=a/k,k=a),s.drawImage(l,0,0,k,f);try{return i.iterate(n,(function(e,r,o,t,n,a,s){var c,l,i=.2125*e.r+.7154*e.g+.0721*e.b;ce.luma709Only(d.data[4*r],d.data[4*r+1],d.data[4*r+2])>s.threshold?i<B&&(c=ce.rgbToYuv(e.r,e.g,e.b),l=ce.yuvToRgb2(B,c[1],c[2]),e.r=l[0],e.g=l[1],e.b=l[2],e.a=255):i>u&&(c=ce.rgbToYuv(e.r,e.g,e.b),l=ce.yuvToRgb2(u,c[1],c[2]),e.r=l[0],e.g=l[1],e.b=l[2])})),n}catch(e){console.log(e)}}if(o.withLogo&&o.logo){var h=new Image;h.src=o.logo;var m={width:o.logoSize||50,height:o.logoSize||50};return h.onload=function(){s.drawImage(h,n.width/2-m.width/2,n.height/2-m.height/2,m.width,m.height)},n}return n},r.renderToDataURL=function(e,o,t){var n=t;void 0!==n||o&&o.getContext||(n=o,o=void 0),n||(n={});var a=r.render(e,o,n),s=n.type||"image/png",c=n.rendererOpts||{};return a.toDataURL(s,c.quality)}}));function de(e,r){var o=e.a/255,t=r+'="'+e.hex+'"';return o<1?t+" "+r+'-opacity="'+o.toFixed(2).slice(1)+'"':t}function ie(e,r,o){var t=e+r;return void 0!==o&&(t+=" "+o),t}le.render,le.renderToDataURL;var ue=function(e,r,o){var t=ce.getOptions(r),n=e.modules.size,a=e.modules.data,s=n+2*t.margin,c=t.color.light.a?"<path "+de(t.color.light,"fill")+' d="M0 0h'+s+"v"+s+'H0z"/>':"",l="<path "+de(t.color.dark,"stroke")+' d="'+function(e,r,o){for(var t="",n=0,a=!1,s=0,c=0;c<e.length;c++){var l=Math.floor(c%r),d=Math.floor(c/r);l||a||(a=!0),e[c]?(s++,c>0&&l>0&&e[c-1]||(t+=a?ie("M",l+o,.5+d+o):ie("m",n,0),n=0,a=!1),l+1<r&&e[c+1]||(t+=ie("h",s),s=0)):n++}return t}(a,n,t.margin)+'"/>',d='viewBox="0 0 '+s+" "+s+'"',i='<svg xmlns="http://www.w3.org/2000/svg" '+(t.width?'width="'+t.width+'" height="'+t.width+'" ':"")+d+' shape-rendering="crispEdges">'+c+l+"</svg>\n";return"function"==typeof o&&o(null,i),i};function Be(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ke(e,r){for(var o=0;o<r.length;o++){var t=r[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function fe(e,r,o){return r&&ke(e.prototype,r),o&&ke(e,o),e}function he(e){return function(e){if(Array.isArray(e))return we(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||me(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function me(e,r){if(e){if("string"==typeof e)return we(e,r);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?we(e,r):void 0}}function we(e,r){(null==r||r>e.length)&&(r=e.length);for(var o=0,t=new Array(r);o<r;o++)t[o]=e[o];return t}function Ce(e,r){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=me(e))||r&&e&&"number"==typeof e.length){o&&(e=o);var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==o.return||o.return()}finally{if(c)throw a}}}}var ve=function(){function e(r,o){Be(this,e),this.width=o,this.height=r.length/o,this.data=r}return fe(e,[{key:"get",value:function(e,r){return!(e<0||e>=this.width||r<0||r>=this.height)&&!!this.data[r*this.width+e]}},{key:"set",value:function(e,r,o){this.data[r*this.width+e]=o?1:0}},{key:"setRegion",value:function(e,r,o,t,n){for(var a=r;a<r+t;a++)for(var s=e;s<e+o;s++)this.set(s,a,!!n)}}],[{key:"createEmpty",value:function(r,o){return new e(new Uint8ClampedArray(r*o),r)}}]),e}();function ge(e,r,o){return e<r?r:e>o?o:e}var Pe=function(){function e(r,o,t){Be(this,e),this.width=r;var n=r*o;if(t&&t.length!==n)throw new Error("Wrong buffer size");this.data=t||new Uint8ClampedArray(n)}return fe(e,[{key:"get",value:function(e,r){return this.data[r*this.width+e]}},{key:"set",value:function(e,r,o){this.data[r*this.width+e]=o}}]),e}();function ye(e,r,o,t,n,a){var s=r*o;if(e.length!==4*s)throw new Error("Malformed data passed to binarizer.");var c,l=0;a&&(c=new Uint8ClampedArray(e.buffer,l,s),l+=s);var d=new Pe(r,o,c);if(n.useIntegerApproximation)for(var i=0;i<o;i++)for(var u=0;u<r;u++){var B=4*(i*r+u),k=e[B],f=e[B+1],h=e[B+2];d.set(u,i,n.red*k+n.green*f+n.blue*h+128>>8)}else for(var m=0;m<o;m++)for(var w=0;w<r;w++){var C=4*(m*r+w),v=e[C],g=e[C+1],P=e[C+2];d.set(w,m,n.red*v+n.green*g+n.blue*P)}var y,p=Math.ceil(r/8),b=Math.ceil(o/8),M=p*b;a&&(y=new Uint8ClampedArray(e.buffer,l,M),l+=M);for(var x,A=new Pe(p,b,y),L=0;L<b;L++)for(var E=0;E<p;E++){for(var I=1/0,N=0,T=0;T<8;T++)for(var R=0;R<8;R++){var U=d.get(8*E+R,8*L+T);I=Math.min(I,U),N=Math.max(N,U)}var z=(I+N)/2;if(z=Math.min(255,1.1*z),N-I<=24&&(z=I/2,L>0&&E>0)){var S=(A.get(E,L-1)+2*A.get(E-1,L)+A.get(E-1,L-1))/4;I<S&&(z=S)}A.set(E,L,z)}if(a){var F=new Uint8ClampedArray(e.buffer,l,s);l+=s,x=new ve(F,r)}else x=ve.createEmpty(r,o);var X=null;if(t)if(a){var D=new Uint8ClampedArray(e.buffer,l,s);X=new ve(D,r)}else X=ve.createEmpty(r,o);for(var O=0;O<b;O++)for(var Y=0;Y<p;Y++){for(var H=ge(Y,2,p-3),j=ge(O,2,b-3),K=0,_=-2;_<=2;_++)for(var J=-2;J<=2;J++)K+=A.get(H+_,j+J);for(var $=K/25,Q=0;Q<8;Q++)for(var Z=0;Z<8;Z++){var q=8*Y+Q,V=8*O+Z,W=d.get(q,V);x.set(q,V,W<=$),t&&X.set(q,V,!(W<=$))}}return t?{binarized:x,inverted:X}:{binarized:x}}var pe,be,Me=function(){function e(r){Be(this,e),this.byteOffset=0,this.bitOffset=0,this.bytes=r}return fe(e,[{key:"readBits",value:function(e){if(e<1||e>32||e>this.available())throw new Error("Cannot read "+e.toString()+" bits");var r=0;if(this.bitOffset>0){var o=8-this.bitOffset,t=e<o?e:o,n=o-t,a=255>>8-t<<n;r=(this.bytes[this.byteOffset]&a)>>n,e-=t,this.bitOffset+=t,8===this.bitOffset&&(this.bitOffset=0,this.byteOffset++)}if(e>0){for(;e>=8;)r=r<<8|255&this.bytes[this.byteOffset],this.byteOffset++,e-=8;if(e>0){var s=8-e,c=255>>s<<s;r=r<<e|(this.bytes[this.byteOffset]&c)>>s,this.bitOffset+=e}}return r}},{key:"available",value:function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}]),e}();function xe(e,r){for(var o=[],t="",n=[10,12,14][r],a=e.readBits(n);a>=3;){var s=e.readBits(10);if(s>=1e3)throw new Error("Invalid numeric value above 999");var c=Math.floor(s/100),l=Math.floor(s/10)%10,d=s%10;o.push(48+c,48+l,48+d),t+=c.toString()+l.toString()+d.toString(),a-=3}if(2===a){var i=e.readBits(7);if(i>=100)throw new Error("Invalid numeric value above 99");var u=Math.floor(i/10),B=i%10;o.push(48+u,48+B),t+=u.toString()+B.toString()}else if(1===a){var k=e.readBits(4);if(k>=10)throw new Error("Invalid numeric value above 9");o.push(48+k),t+=k.toString()}return{bytes:o,text:t}}!function(e){e.Numeric="numeric",e.Alphanumeric="alphanumeric",e.Byte="byte",e.Kanji="kanji",e.ECI="eci"}(pe||(pe={})),function(e){e[e.Terminator=0]="Terminator",e[e.Numeric=1]="Numeric",e[e.Alphanumeric=2]="Alphanumeric",e[e.Byte=4]="Byte",e[e.Kanji=8]="Kanji",e[e.ECI=7]="ECI"}(be||(be={}));var Ae=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Le(e,r){for(var o=[],t="",n=[9,11,13][r],a=e.readBits(n);a>=2;){var s=e.readBits(11),c=Math.floor(s/45),l=s%45;o.push(Ae[c].charCodeAt(0),Ae[l].charCodeAt(0)),t+=Ae[c]+Ae[l],a-=2}if(1===a){var d=e.readBits(6);o.push(Ae[d].charCodeAt(0)),t+=Ae[d]}return{bytes:o,text:t}}function Ee(e,r){for(var o=[],t="",n=[8,16,16][r],a=e.readBits(n),s=0;s<a;s++){var c=e.readBits(8);o.push(c)}try{t+=decodeURIComponent(o.map((function(e){return"%".concat(("0"+e.toString(16)).substr(-2))})).join(""))}catch(e){}return{bytes:o,text:t}}function Ie(e,r){for(var o=[],t=[8,10,12][r],n=e.readBits(t),a=0;a<n;a++){var s=e.readBits(13),c=Math.floor(s/192)<<8|s%192;c+=c<7936?33088:49472,o.push(c>>8,255&c)}return{bytes:o,text:new TextDecoder("shift-jis").decode(Uint8Array.from(o))}}var Ne=function(){function e(r,o){if(Be(this,e),0===o.length)throw new Error("No coefficients.");this.field=r;var t=o.length;if(t>1&&0===o[0]){for(var n=1;n<t&&0===o[n];)n++;if(n===t)this.coefficients=r.zero.coefficients;else{this.coefficients=new Uint8ClampedArray(t-n);for(var a=0;a<this.coefficients.length;a++)this.coefficients[a]=o[n+a]}}else this.coefficients=o}return fe(e,[{key:"degree",value:function(){return this.coefficients.length-1}},{key:"isZero",value:function(){return 0===this.coefficients[0]}},{key:"getCoefficient",value:function(e){return this.coefficients[this.coefficients.length-1-e]}},{key:"addOrSubtract",value:function(r){if(this.isZero())return r;if(r.isZero())return this;var o=this.coefficients,t=r.coefficients;if(o.length>t.length){var n=[t,o];o=n[0],t=n[1]}for(var a=new Uint8ClampedArray(t.length),s=t.length-o.length,c=0;c<s;c++)a[c]=t[c];for(var l=s;l<t.length;l++)a[l]=Te(o[l-s],t[l]);return new e(this.field,a)}},{key:"multiply",value:function(r){if(0===r)return this.field.zero;if(1===r)return this;for(var o=this.coefficients.length,t=new Uint8ClampedArray(o),n=0;n<o;n++)t[n]=this.field.multiply(this.coefficients[n],r);return new e(this.field,t)}},{key:"multiplyPoly",value:function(r){if(this.isZero()||r.isZero())return this.field.zero;for(var o=this.coefficients,t=o.length,n=r.coefficients,a=n.length,s=new Uint8ClampedArray(t+a-1),c=0;c<t;c++)for(var l=o[c],d=0;d<a;d++)s[c+d]=Te(s[c+d],this.field.multiply(l,n[d]));return new e(this.field,s)}},{key:"multiplyByMonomial",value:function(r,o){if(r<0)throw new Error("Invalid degree less than 0");if(0===o)return this.field.zero;for(var t=this.coefficients.length,n=new Uint8ClampedArray(t+r),a=0;a<t;a++)n[a]=this.field.multiply(this.coefficients[a],o);return new e(this.field,n)}},{key:"evaluateAt",value:function(e){var r=0;if(0===e)return this.getCoefficient(0);var o=this.coefficients.length;if(1===e)return this.coefficients.forEach((function(e){r=Te(r,e)})),r;r=this.coefficients[0];for(var t=1;t<o;t++)r=Te(this.field.multiply(e,r),this.coefficients[t]);return r}}]),e}();function Te(e,r){return e^r}var Re=function(){function e(r,o,t){Be(this,e),this.primitive=r,this.size=o,this.generatorBase=t,this.expTable=new Array(this.size),this.logTable=new Array(this.size);for(var n=1,a=0;a<this.size;a++)this.expTable[a]=n,(n*=2)>=this.size&&(n=(n^this.primitive)&this.size-1);for(var s=0;s<this.size-1;s++)this.logTable[this.expTable[s]]=s;this.zero=new Ne(this,Uint8ClampedArray.from([0])),this.one=new Ne(this,Uint8ClampedArray.from([1]))}return fe(e,[{key:"multiply",value:function(e,r){return 0===e||0===r?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.size-1)]}},{key:"inverse",value:function(e){if(0===e)throw new Error("Can't invert 0");return this.expTable[this.size-this.logTable[e]-1]}},{key:"buildMonomial",value:function(e,r){if(e<0)throw new Error("Invalid monomial degree less than 0");if(0===r)return this.zero;var o=new Uint8ClampedArray(e+1);return o[0]=r,new Ne(this,o)}},{key:"log",value:function(e){if(0===e)throw new Error("Can't take log(0)");return this.logTable[e]}},{key:"exp",value:function(e){return this.expTable[e]}}]),e}();function Ue(e,r){var o=new Uint8ClampedArray(e.length);o.set(e);for(var t=new Re(285,256,0),n=new Ne(t,o),a=new Uint8ClampedArray(r),s=!1,c=0;c<r;c++){var l=n.evaluateAt(t.exp(c+t.generatorBase));a[a.length-1-c]=l,0!==l&&(s=!0)}if(!s)return o;var d=new Ne(t,a),i=function(e,r,o,t){if(r.degree()<o.degree()){var n=[o,r];r=n[0],o=n[1]}for(var a=r,s=o,c=e.zero,l=e.one;s.degree()>=t/2;){var d=a,i=c;if(c=l,(a=s).isZero())return null;s=d;for(var u=e.zero,B=a.getCoefficient(a.degree()),k=e.inverse(B);s.degree()>=a.degree()&&!s.isZero();){var f=s.degree()-a.degree(),h=e.multiply(s.getCoefficient(s.degree()),k);u=u.addOrSubtract(e.buildMonomial(f,h)),s=s.addOrSubtract(a.multiplyByMonomial(f,h))}if(l=u.multiplyPoly(c).addOrSubtract(i),s.degree()>=a.degree())return null}var m=l.getCoefficient(0);if(0===m)return null;var w=e.inverse(m);return[l.multiply(w),s.multiply(w)]}(t,t.buildMonomial(r,1),d,r);if(null===i)return null;var u=function(e,r){var o=r.degree();if(1===o)return[r.getCoefficient(1)];for(var t=new Array(o),n=0,a=1;a<e.size&&n<o;a++)0===r.evaluateAt(a)&&(t[n]=e.inverse(a),n++);return n!==o?null:t}(t,i[0]);if(null==u)return null;for(var B=function(e,r,o){for(var t=o.length,n=new Array(t),a=0;a<t;a++){for(var s=e.inverse(o[a]),c=1,l=0;l<t;l++)a!==l&&(c=e.multiply(c,Te(1,e.multiply(o[l],s))));n[a]=e.multiply(r.evaluateAt(s),e.inverse(c)),0!==e.generatorBase&&(n[a]=e.multiply(n[a],s))}return n}(t,i[1],u),k=0;k<u.length;k++){var f=o.length-1-t.log(u[k]);if(f<0)return null;o[f]=Te(o[f],B[k])}return o}var ze=[{infoBits:null,versionNumber:1,alignmentPatternCenters:[],errorCorrectionLevels:[{ecCodewordsPerBlock:7,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:13,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:17,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:2,alignmentPatternCenters:[6,18],errorCorrectionLevels:[{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:34}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:28}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]}]},{infoBits:null,versionNumber:3,alignmentPatternCenters:[6,22],errorCorrectionLevels:[{ecCodewordsPerBlock:15,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:55}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:13}]}]},{infoBits:null,versionNumber:4,alignmentPatternCenters:[6,26],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:80}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:32}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:5,alignmentPatternCenters:[6,30],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:43}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:11},{numBlocks:2,dataCodewordsPerBlock:12}]}]},{infoBits:null,versionNumber:6,alignmentPatternCenters:[6,34],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:27}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:31892,versionNumber:7,alignmentPatternCenters:[6,22,38],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:78}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:31}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:13},{numBlocks:1,dataCodewordsPerBlock:14}]}]},{infoBits:34236,versionNumber:8,alignmentPatternCenters:[6,24,42],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:97}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:38},{numBlocks:2,dataCodewordsPerBlock:39}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:18},{numBlocks:2,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:14},{numBlocks:2,dataCodewordsPerBlock:15}]}]},{infoBits:39577,versionNumber:9,alignmentPatternCenters:[6,26,46],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:12},{numBlocks:4,dataCodewordsPerBlock:13}]}]},{infoBits:42195,versionNumber:10,alignmentPatternCenters:[6,28,50],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68},{numBlocks:2,dataCodewordsPerBlock:69}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:43},{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]}]},{infoBits:48118,versionNumber:11,alignmentPatternCenters:[6,30,54],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:81}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:50},{numBlocks:4,dataCodewordsPerBlock:51}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:22},{numBlocks:4,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:12},{numBlocks:8,dataCodewordsPerBlock:13}]}]},{infoBits:51042,versionNumber:12,alignmentPatternCenters:[6,32,58],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:92},{numBlocks:2,dataCodewordsPerBlock:93}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:20},{numBlocks:6,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:55367,versionNumber:13,alignmentPatternCenters:[6,34,62],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:37},{numBlocks:1,dataCodewordsPerBlock:38}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:20},{numBlocks:4,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:11},{numBlocks:4,dataCodewordsPerBlock:12}]}]},{infoBits:58893,versionNumber:14,alignmentPatternCenters:[6,26,46,66],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:40},{numBlocks:5,dataCodewordsPerBlock:41}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:16},{numBlocks:5,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:5,dataCodewordsPerBlock:13}]}]},{infoBits:63784,versionNumber:15,alignmentPatternCenters:[6,26,48,70],errorCorrectionLevels:[{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:87},{numBlocks:1,dataCodewordsPerBlock:88}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:41},{numBlocks:5,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:7,dataCodewordsPerBlock:13}]}]},{infoBits:68472,versionNumber:16,alignmentPatternCenters:[6,26,50,74],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:98},{numBlocks:1,dataCodewordsPerBlock:99}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:70749,versionNumber:17,alignmentPatternCenters:[6,30,54,78],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:1,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22},{numBlocks:15,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:17,dataCodewordsPerBlock:15}]}]},{infoBits:76311,versionNumber:18,alignmentPatternCenters:[6,30,56,82],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:120},{numBlocks:1,dataCodewordsPerBlock:121}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:43},{numBlocks:4,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:1,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:19,dataCodewordsPerBlock:15}]}]},{infoBits:79154,versionNumber:19,alignmentPatternCenters:[6,30,58,86],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:113},{numBlocks:4,dataCodewordsPerBlock:114}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:44},{numBlocks:11,dataCodewordsPerBlock:45}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:21},{numBlocks:4,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:13},{numBlocks:16,dataCodewordsPerBlock:14}]}]},{infoBits:84390,versionNumber:20,alignmentPatternCenters:[6,34,62,90],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:41},{numBlocks:13,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:5,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:15},{numBlocks:10,dataCodewordsPerBlock:16}]}]},{infoBits:87683,versionNumber:21,alignmentPatternCenters:[6,28,50,72,94],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:116},{numBlocks:4,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:16},{numBlocks:6,dataCodewordsPerBlock:17}]}]},{infoBits:92361,versionNumber:22,alignmentPatternCenters:[6,26,50,74,98],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:111},{numBlocks:7,dataCodewordsPerBlock:112}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:13}]}]},{infoBits:96236,versionNumber:23,alignmentPatternCenters:[6,30,54,74,102],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:121},{numBlocks:5,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:47},{numBlocks:14,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:16,dataCodewordsPerBlock:15},{numBlocks:14,dataCodewordsPerBlock:16}]}]},{infoBits:102084,versionNumber:24,alignmentPatternCenters:[6,28,54,80,106],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:45},{numBlocks:14,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:30,dataCodewordsPerBlock:16},{numBlocks:2,dataCodewordsPerBlock:17}]}]},{infoBits:102881,versionNumber:25,alignmentPatternCenters:[6,32,58,84,110],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:106},{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:47},{numBlocks:13,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:110507,versionNumber:26,alignmentPatternCenters:[6,30,58,86,114],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:114},{numBlocks:2,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:46},{numBlocks:4,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:28,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:33,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]}]},{infoBits:110734,versionNumber:27,alignmentPatternCenters:[6,34,62,90,118],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:23},{numBlocks:26,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:117786,versionNumber:28,alignmentPatternCenters:[6,26,50,74,98,122],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:117},{numBlocks:10,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:45},{numBlocks:23,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:24},{numBlocks:31,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:31,dataCodewordsPerBlock:16}]}]},{infoBits:119615,versionNumber:29,alignmentPatternCenters:[6,30,54,78,102,126],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:116},{numBlocks:7,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:21,dataCodewordsPerBlock:45},{numBlocks:7,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:23},{numBlocks:37,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:26,dataCodewordsPerBlock:16}]}]},{infoBits:126325,versionNumber:30,alignmentPatternCenters:[6,26,52,78,104,130],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:115},{numBlocks:10,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:47},{numBlocks:10,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:25,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:25,dataCodewordsPerBlock:16}]}]},{infoBits:127568,versionNumber:31,alignmentPatternCenters:[6,30,56,82,108,134],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:3,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:46},{numBlocks:29,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:24},{numBlocks:1,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:133589,versionNumber:32,alignmentPatternCenters:[6,34,60,86,112,138],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:24},{numBlocks:35,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:35,dataCodewordsPerBlock:16}]}]},{infoBits:136944,versionNumber:33,alignmentPatternCenters:[6,30,58,86,114,142],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:21,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:24},{numBlocks:19,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:141498,versionNumber:34,alignmentPatternCenters:[6,34,62,90,118,146],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:6,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:44,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:59,dataCodewordsPerBlock:16},{numBlocks:1,dataCodewordsPerBlock:17}]}]},{infoBits:145311,versionNumber:35,alignmentPatternCenters:[6,30,54,78,102,126,150],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:121},{numBlocks:7,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:47},{numBlocks:26,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:39,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:41,dataCodewordsPerBlock:16}]}]},{infoBits:150283,versionNumber:36,alignmentPatternCenters:[6,24,50,76,102,128,154],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:121},{numBlocks:14,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:47},{numBlocks:34,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:46,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:64,dataCodewordsPerBlock:16}]}]},{infoBits:152622,versionNumber:37,alignmentPatternCenters:[6,28,54,80,106,132,158],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:46},{numBlocks:14,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:49,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:24,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:158308,versionNumber:38,alignmentPatternCenters:[6,32,58,84,110,136,162],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:122},{numBlocks:18,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:46},{numBlocks:32,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:48,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:15},{numBlocks:32,dataCodewordsPerBlock:16}]}]},{infoBits:161089,versionNumber:39,alignmentPatternCenters:[6,26,54,82,110,138,166],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:40,dataCodewordsPerBlock:47},{numBlocks:7,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:43,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:15},{numBlocks:67,dataCodewordsPerBlock:16}]}]},{infoBits:167017,versionNumber:40,alignmentPatternCenters:[6,30,58,86,114,142,170],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:118},{numBlocks:6,dataCodewordsPerBlock:119}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:18,dataCodewordsPerBlock:47},{numBlocks:31,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:24},{numBlocks:34,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:15},{numBlocks:61,dataCodewordsPerBlock:16}]}]}];function Se(e,r){for(var o=e^r,t=0;o;)t++,o&=o-1;return t}function Fe(e,r){return r<<1|e}var Xe=[{bits:21522,formatInfo:{errorCorrectionLevel:1,dataMask:0}},{bits:20773,formatInfo:{errorCorrectionLevel:1,dataMask:1}},{bits:24188,formatInfo:{errorCorrectionLevel:1,dataMask:2}},{bits:23371,formatInfo:{errorCorrectionLevel:1,dataMask:3}},{bits:17913,formatInfo:{errorCorrectionLevel:1,dataMask:4}},{bits:16590,formatInfo:{errorCorrectionLevel:1,dataMask:5}},{bits:20375,formatInfo:{errorCorrectionLevel:1,dataMask:6}},{bits:19104,formatInfo:{errorCorrectionLevel:1,dataMask:7}},{bits:30660,formatInfo:{errorCorrectionLevel:0,dataMask:0}},{bits:29427,formatInfo:{errorCorrectionLevel:0,dataMask:1}},{bits:32170,formatInfo:{errorCorrectionLevel:0,dataMask:2}},{bits:30877,formatInfo:{errorCorrectionLevel:0,dataMask:3}},{bits:26159,formatInfo:{errorCorrectionLevel:0,dataMask:4}},{bits:25368,formatInfo:{errorCorrectionLevel:0,dataMask:5}},{bits:27713,formatInfo:{errorCorrectionLevel:0,dataMask:6}},{bits:26998,formatInfo:{errorCorrectionLevel:0,dataMask:7}},{bits:5769,formatInfo:{errorCorrectionLevel:3,dataMask:0}},{bits:5054,formatInfo:{errorCorrectionLevel:3,dataMask:1}},{bits:7399,formatInfo:{errorCorrectionLevel:3,dataMask:2}},{bits:6608,formatInfo:{errorCorrectionLevel:3,dataMask:3}},{bits:1890,formatInfo:{errorCorrectionLevel:3,dataMask:4}},{bits:597,formatInfo:{errorCorrectionLevel:3,dataMask:5}},{bits:3340,formatInfo:{errorCorrectionLevel:3,dataMask:6}},{bits:2107,formatInfo:{errorCorrectionLevel:3,dataMask:7}},{bits:13663,formatInfo:{errorCorrectionLevel:2,dataMask:0}},{bits:12392,formatInfo:{errorCorrectionLevel:2,dataMask:1}},{bits:16177,formatInfo:{errorCorrectionLevel:2,dataMask:2}},{bits:14854,formatInfo:{errorCorrectionLevel:2,dataMask:3}},{bits:9396,formatInfo:{errorCorrectionLevel:2,dataMask:4}},{bits:8579,formatInfo:{errorCorrectionLevel:2,dataMask:5}},{bits:11994,formatInfo:{errorCorrectionLevel:2,dataMask:6}},{bits:11245,formatInfo:{errorCorrectionLevel:2,dataMask:7}}],De=[function(e){return(e.y+e.x)%2==0},function(e){return e.y%2==0},function(e){return e.x%3==0},function(e){return(e.y+e.x)%3==0},function(e){return(Math.floor(e.y/2)+Math.floor(e.x/3))%2==0},function(e){return e.x*e.y%2+e.x*e.y%3==0},function(e){return(e.y*e.x%2+e.y*e.x%3)%2==0},function(e){return((e.y+e.x)%2+e.y*e.x%3)%2==0}];function Oe(e,r,o){for(var t=De[o.dataMask],n=e.height,a=function(e){var r=17+4*e.versionNumber,o=ve.createEmpty(r,r);o.setRegion(0,0,9,9,!0),o.setRegion(r-8,0,8,9,!0),o.setRegion(0,r-8,9,8,!0);var t,n=Ce(e.alignmentPatternCenters);try{for(n.s();!(t=n.n()).done;){var a,s=t.value,c=Ce(e.alignmentPatternCenters);try{for(c.s();!(a=c.n()).done;){var l=a.value;6===s&&6===l||6===s&&l===r-7||s===r-7&&6===l||o.setRegion(s-2,l-2,5,5,!0)}}catch(e){c.e(e)}finally{c.f()}}}catch(e){n.e(e)}finally{n.f()}return o.setRegion(6,9,1,r-17,!0),o.setRegion(9,6,r-17,1,!0),e.versionNumber>6&&(o.setRegion(r-11,0,3,6,!0),o.setRegion(0,r-11,6,3,!0)),o}(r),s=[],c=0,l=0,d=!0,i=n-1;i>0;i-=2){6===i&&i--;for(var u=0;u<n;u++)for(var B=d?n-1-u:u,k=0;k<2;k++){var f=i-k;if(!a.get(f,B)){l++;var h=e.get(f,B);t({y:B,x:f})&&(h=!h),c=Fe(h,c),8===l&&(s.push(c),l=0,c=0)}}d=!d}return s}function Ye(e){var r=function(e){var r=e.height,o=Math.floor((r-17)/4);if(o<=6)return ze[o-1];for(var t=0,n=5;n>=0;n--)for(var a=r-9;a>=r-11;a--)t=Fe(e.get(a,n),t);for(var s=0,c=5;c>=0;c--)for(var l=r-9;l>=r-11;l--)s=Fe(e.get(c,l),s);var d,i,u=1/0,B=Ce(ze);try{for(B.s();!(i=B.n()).done;){var k=i.value;if(k.infoBits===t||k.infoBits===s)return k;var f=Se(t,k.infoBits);f<u&&(d=k,u=f),(f=Se(s,k.infoBits))<u&&(d=k,u=f)}}catch(e){B.e(e)}finally{B.f()}return u<=3?d:void 0}(e);if(!r)return null;var o=function(e){for(var r=0,o=0;o<=8;o++)6!==o&&(r=Fe(e.get(o,8),r));for(var t=7;t>=0;t--)6!==t&&(r=Fe(e.get(8,t),r));for(var n=e.height,a=0,s=n-1;s>=n-7;s--)a=Fe(e.get(8,s),a);for(var c=n-8;c<n;c++)a=Fe(e.get(c,8),a);var l,d=1/0,i=null,u=Ce(Xe);try{for(u.s();!(l=u.n()).done;){var B=l.value,k=B.bits,f=B.formatInfo;if(k===r||k===a)return f;var h=Se(r,k);h<d&&(i=f,d=h),r!==a&&(h=Se(a,k))<d&&(i=f,d=h)}}catch(e){u.e(e)}finally{u.f()}return d<=3?i:null}(e);if(!o)return null;var t=function(e,r,o){var t=r.errorCorrectionLevels[o],n=[],a=0;if(t.ecBlocks.forEach((function(e){for(var r=0;r<e.numBlocks;r++)n.push({numDataCodewords:e.dataCodewordsPerBlock,codewords:[]}),a+=e.dataCodewordsPerBlock+t.ecCodewordsPerBlock})),e.length<a)return null;e=e.slice(0,a);for(var s=t.ecBlocks[0].dataCodewordsPerBlock,c=0;c<s;c++){var l,d=Ce(n);try{for(d.s();!(l=d.n()).done;){l.value.codewords.push(e.shift())}}catch(e){d.e(e)}finally{d.f()}}if(t.ecBlocks.length>1)for(var i=t.ecBlocks[0].numBlocks,u=t.ecBlocks[1].numBlocks,B=0;B<u;B++)n[i+B].codewords.push(e.shift());for(;e.length>0;){var k,f=Ce(n);try{for(f.s();!(k=f.n()).done;){k.value.codewords.push(e.shift())}}catch(e){f.e(e)}finally{f.f()}}return n}(Oe(e,r,o),r,o.errorCorrectionLevel);if(!t)return null;var n,a=t.reduce((function(e,r){return e+r.numDataCodewords}),0),s=new Uint8ClampedArray(a),c=0,l=Ce(t);try{for(l.s();!(n=l.n()).done;){var d=n.value,i=Ue(d.codewords,d.codewords.length-d.numDataCodewords);if(!i)return null;for(var u=0;u<d.numDataCodewords;u++)s[c++]=i[u]}}catch(e){l.e(e)}finally{l.f()}try{return function(e,r){for(var o=new Me(e),t=r<=9?0:r<=26?1:2,n={text:"",bytes:[],chunks:[]};o.available()>=4;){var a=o.readBits(4);if(a===be.Terminator)return n;if(a===be.ECI)0===o.readBits(1)?n.chunks.push({type:pe.ECI,assignmentNumber:o.readBits(7)}):0===o.readBits(1)?n.chunks.push({type:pe.ECI,assignmentNumber:o.readBits(14)}):0===o.readBits(1)?n.chunks.push({type:pe.ECI,assignmentNumber:o.readBits(21)}):n.chunks.push({type:pe.ECI,assignmentNumber:-1});else if(a===be.Numeric){var s,c=xe(o,t);n.text+=c.text,(s=n.bytes).push.apply(s,he(c.bytes)),n.chunks.push({type:pe.Numeric,text:c.text})}else if(a===be.Alphanumeric){var l,d=Le(o,t);n.text+=d.text,(l=n.bytes).push.apply(l,he(d.bytes)),n.chunks.push({type:pe.Alphanumeric,text:d.text})}else if(a===be.Byte){var i,u=Ee(o,t);n.text+=u.text,(i=n.bytes).push.apply(i,he(u.bytes)),n.chunks.push({type:pe.Byte,bytes:u.bytes,text:u.text})}else if(a===be.Kanji){var B,k=Ie(o,t);n.text+=k.text,(B=n.bytes).push.apply(B,he(k.bytes)),n.chunks.push({type:pe.Kanji,bytes:k.bytes,text:k.text})}}if(0===o.available()||0===o.readBits(o.available()))return n}(s,r.versionNumber)}catch(e){return null}}function He(e){if(null==e)return null;var r=Ye(e);if(r)return r;for(var o=0;o<e.width;o++)for(var t=o+1;t<e.height;t++)e.get(o,t)!==e.get(t,o)&&(e.set(o,t,!e.get(o,t)),e.set(t,o,!e.get(t,o)));return Ye(e)}function je(e,r,o,t){var n=e.x-r.x+o.x-t.x,a=e.y-r.y+o.y-t.y;if(0===n&&0===a)return{a11:r.x-e.x,a12:r.y-e.y,a13:0,a21:o.x-r.x,a22:o.y-r.y,a23:0,a31:e.x,a32:e.y,a33:1};var s=r.x-o.x,c=t.x-o.x,l=r.y-o.y,d=t.y-o.y,i=s*d-c*l,u=(n*d-c*a)/i,B=(s*a-n*l)/i;return{a11:r.x-e.x+u*r.x,a12:r.y-e.y+u*r.y,a13:u,a21:t.x-e.x+B*t.x,a22:t.y-e.y+B*t.y,a23:B,a31:e.x,a32:e.y,a33:1}}function Ke(e,r){for(var o,t,n=function(e,r,o,t){var n=je(e,r,o,t);return{a11:n.a22*n.a33-n.a23*n.a32,a12:n.a13*n.a32-n.a12*n.a33,a13:n.a12*n.a23-n.a13*n.a22,a21:n.a23*n.a31-n.a21*n.a33,a22:n.a11*n.a33-n.a13*n.a31,a23:n.a13*n.a21-n.a11*n.a23,a31:n.a21*n.a32-n.a22*n.a31,a32:n.a12*n.a31-n.a11*n.a32,a33:n.a11*n.a22-n.a12*n.a21}}({x:3.5,y:3.5},{x:r.dimension-3.5,y:3.5},{x:r.dimension-6.5,y:r.dimension-6.5},{x:3.5,y:r.dimension-3.5}),a=je(r.topLeft,r.topRight,r.alignmentPattern,r.bottomLeft),s=(t=n,{a11:(o=a).a11*t.a11+o.a21*t.a12+o.a31*t.a13,a12:o.a12*t.a11+o.a22*t.a12+o.a32*t.a13,a13:o.a13*t.a11+o.a23*t.a12+o.a33*t.a13,a21:o.a11*t.a21+o.a21*t.a22+o.a31*t.a23,a22:o.a12*t.a21+o.a22*t.a22+o.a32*t.a23,a23:o.a13*t.a21+o.a23*t.a22+o.a33*t.a23,a31:o.a11*t.a31+o.a21*t.a32+o.a31*t.a33,a32:o.a12*t.a31+o.a22*t.a32+o.a32*t.a33,a33:o.a13*t.a31+o.a23*t.a32+o.a33*t.a33}),c=ve.createEmpty(r.dimension,r.dimension),l=function(e,r){var o=s.a13*e+s.a23*r+s.a33;return{x:(s.a11*e+s.a21*r+s.a31)/o,y:(s.a12*e+s.a22*r+s.a32)/o}},d=0;d<r.dimension;d++)for(var i=0;i<r.dimension;i++){var u=l(i+.5,d+.5);c.set(i,d,e.get(Math.floor(u.x),Math.floor(u.y)))}return{matrix:c,mappingFunction:l}}var _e=function(e,r){return Math.sqrt(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2))};function Je(e){return e.reduce((function(e,r){return e+r}))}function $e(e,r,o,t){var n,a,s,c,l=[{x:Math.floor(e.x),y:Math.floor(e.y)}],d=Math.abs(r.y-e.y)>Math.abs(r.x-e.x);d?(n=Math.floor(e.y),a=Math.floor(e.x),s=Math.floor(r.y),c=Math.floor(r.x)):(n=Math.floor(e.x),a=Math.floor(e.y),s=Math.floor(r.x),c=Math.floor(r.y));for(var i=Math.abs(s-n),u=Math.abs(c-a),B=Math.floor(-i/2),k=n<s?1:-1,f=a<c?1:-1,h=!0,m=n,w=a;m!==s+k;m+=k){var C=d?w:m,v=d?m:w;if(o.get(C,v)!==h&&(h=!h,l.push({x:C,y:v}),l.length===t+1))break;if((B+=u)>0){if(w===c)break;w+=f,B-=i}}for(var g=[],P=0;P<t;P++)l[P]&&l[P+1]?g.push(_e(l[P],l[P+1])):g.push(0);return g}function Qe(e,r,o,t){var n,a=r.y-e.y,s=r.x-e.x,c=$e(e,r,o,Math.ceil(t/2)),l=$e(e,{x:e.x-s,y:e.y-a},o,Math.ceil(t/2)),d=c.shift()+l.shift()-1;return(n=l.concat(d)).concat.apply(n,he(c))}function Ze(e,r){var o=Je(e)/Je(r),t=0;return r.forEach((function(r,n){t+=Math.pow(e[n]-r*o,2)})),{averageSize:o,error:t}}function qe(e,r,o){try{var t=Qe(e,{x:-1,y:e.y},o,r.length),n=Qe(e,{x:e.x,y:-1},o,r.length),a=Qe(e,{x:Math.max(0,e.x-e.y)-1,y:Math.max(0,e.y-e.x)-1},o,r.length),s=Qe(e,{x:Math.min(o.width,e.x+e.y)+1,y:Math.min(o.height,e.y+e.x)+1},o,r.length),c=Ze(t,r),l=Ze(n,r),d=Ze(a,r),i=Ze(s,r),u=Math.sqrt(c.error*c.error+l.error*l.error+d.error*d.error+i.error*i.error),B=(c.averageSize+l.averageSize+d.averageSize+i.averageSize)/4;return u+(Math.pow(c.averageSize-B,2)+Math.pow(l.averageSize-B,2)+Math.pow(d.averageSize-B,2)+Math.pow(i.averageSize-B,2))/B}catch(e){return 1/0}}function Ve(e,r){for(var o=Math.round(r.x);e.get(o,Math.round(r.y));)o--;for(var t=Math.round(r.x);e.get(t,Math.round(r.y));)t++;for(var n=(o+t)/2,a=Math.round(r.y);e.get(Math.round(n),a);)a--;for(var s=Math.round(r.y);e.get(Math.round(n),s);)s++;return{x:n,y:(a+s)/2}}function We(e){for(var r=[],o=[],t=[],n=[],a=function(a){for(var s=0,c=!1,l=[0,0,0,0,0],d=-1;d<=e.width;d++){var i=e.get(d,a);if(i===c)s++;else{l=[l[1],l[2],l[3],l[4],s],s=1,c=i;var u=Je(l)/7,B=Math.abs(l[0]-u)<u&&Math.abs(l[1]-u)<u&&Math.abs(l[2]-3*u)<3*u&&Math.abs(l[3]-u)<u&&Math.abs(l[4]-u)<u&&!i,k=Je(l.slice(-3))/3,f=Math.abs(l[2]-k)<k&&Math.abs(l[3]-k)<k&&Math.abs(l[4]-k)<k&&i;B&&function(){var e=d-l[3]-l[4],r=e-l[2],t={startX:r,endX:e,y:a},n=o.filter((function(o){return r>=o.bottom.startX&&r<=o.bottom.endX||e>=o.bottom.startX&&r<=o.bottom.endX||r<=o.bottom.startX&&e>=o.bottom.endX&&l[2]/(o.bottom.endX-o.bottom.startX)<1.5&&l[2]/(o.bottom.endX-o.bottom.startX)>.5}));n.length>0?n[0].bottom=t:o.push({top:t,bottom:t})}(),f&&function(){var e=d-l[4],r=e-l[3],o={startX:r,y:a,endX:e},t=n.filter((function(o){return r>=o.bottom.startX&&r<=o.bottom.endX||e>=o.bottom.startX&&r<=o.bottom.endX||r<=o.bottom.startX&&e>=o.bottom.endX&&l[2]/(o.bottom.endX-o.bottom.startX)<1.5&&l[2]/(o.bottom.endX-o.bottom.startX)>.5}));t.length>0?t[0].bottom=o:n.push({top:o,bottom:o})}()}}r.push.apply(r,he(o.filter((function(e){return e.bottom.y!==a&&e.bottom.y-e.top.y>=2})))),o=o.filter((function(e){return e.bottom.y===a})),t.push.apply(t,he(n.filter((function(e){return e.bottom.y!==a})))),n=n.filter((function(e){return e.bottom.y===a}))},s=0;s<=e.height;s++)a(s);r.push.apply(r,he(o.filter((function(e){return e.bottom.y-e.top.y>=2})))),t.push.apply(t,he(n));var c=r.filter((function(e){return e.bottom.y-e.top.y>=2})).map((function(r){var o=(r.top.startX+r.top.endX+r.bottom.startX+r.bottom.endX)/4,t=(r.top.y+r.bottom.y+1)/2;if(e.get(Math.round(o),Math.round(t))){var n=[r.top.endX-r.top.startX,r.bottom.endX-r.bottom.startX,r.bottom.y-r.top.y+1],a=Je(n)/n.length;return{score:qe({x:Math.round(o),y:Math.round(t)},[1,1,3,1,1],e),x:o,y:t,size:a}}})).filter((function(e){return!!e})).sort((function(e,r){return e.score-r.score})).map((function(e,r,o){if(r>4)return null;var t=o.filter((function(e,o){return r!==o})).map((function(r){return{x:r.x,y:r.y,score:r.score+Math.pow(r.size-e.size,2)/e.size,size:r.size}})).sort((function(e,r){return e.score-r.score}));if(t.length<2)return null;var n=e.score+t[0].score+t[1].score;return{points:[e].concat(t.slice(0,2)),score:n}})).filter((function(e){return!!e})).sort((function(e,r){return e.score-r.score}));if(0===c.length)return null;var l=function(e,r,o){var t,n,a,s=_e(e,r),c=_e(r,o),l=_e(e,o);if(c>=s&&c>=l?(t=r,n=e,a=o):l>=c&&l>=s?(t=e,n=r,a=o):(t=e,n=o,a=r),(a.x-n.x)*(t.y-n.y)-(a.y-n.y)*(t.x-n.x)<0){var d=[a,t];t=d[0],a=d[1]}return{bottomLeft:t,topLeft:n,topRight:a}}(c[0].points[0],c[0].points[1],c[0].points[2]),d=l.topRight,i=l.topLeft,u=l.bottomLeft,B=Ge(e,t,d,i,u),k=[];B&&k.push({alignmentPattern:{x:B.alignmentPattern.x,y:B.alignmentPattern.y},bottomLeft:{x:u.x,y:u.y},dimension:B.dimension,topLeft:{x:i.x,y:i.y},topRight:{x:d.x,y:d.y}});var f=Ve(e,d),h=Ve(e,i),m=Ve(e,u),w=Ge(e,t,f,h,m);return w&&k.push({alignmentPattern:{x:w.alignmentPattern.x,y:w.alignmentPattern.y},bottomLeft:{x:m.x,y:m.y},topLeft:{x:h.x,y:h.y},topRight:{x:f.x,y:f.y},dimension:w.dimension}),0===k.length?null:k}function Ge(e,r,o,t,n){var a,s;try{var c=function(e,r,o,t){var n=(Je(Qe(e,o,t,5))/7+Je(Qe(e,r,t,5))/7+Je(Qe(o,e,t,5))/7+Je(Qe(r,e,t,5))/7)/4;if(n<1)throw new Error("Invalid module size");var a=Math.round(_e(e,r)/n),s=Math.round(_e(e,o)/n),c=Math.floor((a+s)/2)+7;switch(c%4){case 0:c++;break;case 2:c--}return{dimension:c,moduleSize:n}}(t,o,n,e);a=c.dimension,s=c.moduleSize}catch(e){return null}var l=o.x-t.x+n.x,d=o.y-t.y+n.y,i=(_e(t,n)+_e(t,o))/2/s,u=1-3/i,B={x:t.x+u*(l-t.x),y:t.y+u*(d-t.y)},k=r.map((function(r){var o=(r.top.startX+r.top.endX+r.bottom.startX+r.bottom.endX)/4,t=(r.top.y+r.bottom.y+1)/2;if(e.get(Math.floor(o),Math.floor(t))){var n=[r.top.endX-r.top.startX,r.bottom.endX-r.bottom.startX,r.bottom.y-r.top.y+1];return Je(n),{x:o,y:t,score:qe({x:Math.floor(o),y:Math.floor(t)},[1,1,1],e)+_e({x:o,y:t},B)}}})).filter((function(e){return!!e})).sort((function(e,r){return e.score-r.score}));return{alignmentPattern:i>=15&&k.length?k[0]:B,dimension:a}}function er(e){var r=We(e);if(!r)return null;var o,t=Ce(r);try{for(t.s();!(o=t.n()).done;){var n=o.value,a=Ke(e,n),s=He(a.matrix);if(s)return{binaryData:s.bytes,data:s.text,chunks:s.chunks,location:{topRightCorner:a.mappingFunction(n.dimension,0),topLeftCorner:a.mappingFunction(0,0),bottomRightCorner:a.mappingFunction(n.dimension,n.dimension),bottomLeftCorner:a.mappingFunction(0,n.dimension),topRightFinderPattern:n.topRight,topLeftFinderPattern:n.topLeft,bottomLeftFinderPattern:n.bottomLeft,bottomRightAlignmentPattern:n.alignmentPattern},matrix:a.matrix}}}catch(e){t.e(e)}finally{t.f()}return null}var rr={inversionAttempts:"attemptBoth",greyScaleWeights:{red:.2126,green:.7152,blue:.0722,useIntegerApproximation:!1},canOverwriteImage:!0};function or(e,r){Object.keys(r).forEach((function(o){e[o]=r[o]}))}function tr(e,r,o){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=Object.create(null);or(n,rr),or(n,t);var a="onlyInvert"===n.inversionAttempts||"invertFirst"===n.inversionAttempts,s="attemptBoth"===n.inversionAttempts||a,c=ye(e,r,o,s,n.greyScaleWeights,n.canOverwriteImage),l=c.binarized,d=c.inverted,i=er(a?d:l);return i||"attemptBoth"!==n.inversionAttempts&&"invertFirst"!==n.inversionAttempts||(i=er(a?l:d)),i}tr.default=tr;var nr=ce.escapeHtml,ar=ce.encodeUrl;function sr(e,r,o){return new Promise((function(t,n){try{var a=o.rawUri?o.rawUri:function(e){var r=e.wallet,o=e.xnote,t=e.note,n=e.label,a=e.amount,s=e.asset,c=e.html,l=e.other,d="";return s&&0===s.length&&(s=null),a&&(a=Number(a)>0?Number(s?a:1e6*a):null),n&&0===n.length&&(n=null),t||(t=""),o||(o=!1),!a&&n?d="algorand://".concat(r,"?label=").concat(n):s&&a?d="algorand://".concat(r,"?amount=").concat(a,"&asset=").concat(s).concat(o?"&xnote="+t:"&note="+t):!s&&a&&(d="algorand://".concat(r,"?amount=").concat(a,"&label=").concat(n).concat(o?"&xnote="+t:"&note="+t)),l&&"string"==typeof l&&(d=d+"&other="+l),c&&(d=nr(d)),d=ar(d),{}/*console.log("Generated Algorand URI: ",d)*/,d}(o),s=se(a,o);t([e(s,r,o),a])}catch(e){n(e)}}))}var cr=tr,lr=nr,dr=ar,ir=se,ur=sr.bind(null,le.render),Br=sr.bind(null,le.renderToDataURL),kr=sr.bind(null,(function(e,r,o){return ue(e,o)}));return e.create=ir,e.encodeUrl=dr,e.escapeHtml=lr,e.jsQR=cr,e.toCanvas=ur,e.toDataURL=Br,e.toString=kr,Object.defineProperty(e,"__esModule",{value:!0}),e}({});
